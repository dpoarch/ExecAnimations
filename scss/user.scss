/** Global */

$animation-prefix: -webkit- -moz- -o- -ms-;

/** mixin functions */

@mixin keyframes($animation-name) {
    @-webkit-keyframes #{$animation-name} {
        @content;
    }
    @-moz-keyframes #{$animation-name} {
        @content;
    }
    @-ms-keyframes #{$animation-name} {
        @content;
    }
    @-o-keyframes #{$animation-name} {
        @content;
    }
    @keyframes #{$animation-name} {
        @content;
    }
}

@mixin animation($str) {
    @each $prefix in $animation-prefix {
        #{$prefix}animation: #{$str};
        #{$prefix}animation-iteration-count: 1;
    }
    animation: #{$str};
    animation-iteration-count: 1;
}

@mixin animation-delay($delay) {
    @each $prefix in $animation-prefix {
        #{$prefix}animation-delay: #{$delay};
    }
    animation-delay: #{$delay};
}

@mixin transition($str) {
    @each $prefix in $animation-prefix {
        #{$prefix}transition: #{$str};
    }
    transition: #{$str};
}

@mixin animate-intervals($from, $to, $class, $prop, $delay) {
    @for $i from $from through $to {
        #{$class} {
            &:nth-child(#{$i}) {
                opacity: 0;
                @include animation(#{$prop});
                @include animation-delay($i* $delay);
            }
        }
    }
}


/***** Keyframes */

@include keyframes(slideDownCard) {
    0% {
        z-index: -10;
        opacity: 0;
        transform: translate3d(0, -200%, 0);
    }
    30% {
        z-index: -2;
        opacity: 0.3;
    }
    50% {
        z-index: -5;
        opacity: 0.5;
        transform: translate3d(0, 20%, 0);
    }
    80% {
        z-index: 1;
        opacity: 0.9;
    }
    100% {
        z-index: 1;
        opacity: 1;
        transform: translate3d(0, 0, 0);
        visibility: visible;
    }
}

@include keyframes(slideUpCard) {
    0% {
        z-index: -10;
        opacity: 0;
        transform: translate3d(0, 200%, 0);
    }
    30% {
        z-index: -2;
        opacity: 0.3;
    }
    50% {
        z-index: -5;
        opacity: 0.5;
        transform: translate3d(0, -5%, 0);
    }
    80% {
        z-index: -2;
        opacity: 0.9;
    }
    100% {
        z-index: 1;
        opacity: 1;
        transform: translate3d(0, 0, 0);
        visibility: visible;
    }
}

@include keyframes(fadeInFromTop) {
    0% {
        opacity: 0;
        transform: translate3d(0, -100%, 0);
    }
    100% {
        opacity: 1;
        transform: translate3d(0, 0, 0);
    }
}

@include keyframes(fadeInFromBottom) {
    0% {
        opacity: 0;
        transform: translate3d(0, 100%, 0);
    }
    100% {
        opacity: 1;
        transform: translate3d(0, 0, 0);
    }
}

@include keyframes(fadeInFromLeft) {
    0% {
        opacity: 0;
        transform: translate3d(-100%, 0, 0);
    }
    100% {
        opacity: 1;
        transform: translate3d(0, 0, 0);
    }
}

@include keyframes(fadeInFromRight) {
    0% {
        opacity: 0;
        transform: translate3d(100%, 0, 0);
    }
    100% {
        opacity: 1;
        transform: translate3d(0, 0, 0);
    }
}

@include keyframes(fadeInScale) {
    0% {
        opacity: 0;
        transform: scale3d(0, 0, 0);
    }
    100% {
        opacity: 1;
        transform: scale3d(1, 1, 1);
    }
}

@include keyframes(rotateSkewLeft) {
    0% {
        transform: rotate(45deg) scale(0.1);
        transform-origin: center right;
    }
    100% {
        transform: rotate(0deg) scale(1);
    }
}

@include keyframes(rotateSkewLeft) {
    0% {
        transform: rotate(45deg) scale(0.1);
        transform-origin: center right;
    }
    100% {
        transform: rotate(0deg) scale(1);
    }
}

@include keyframes(rotateSkewLeftPos) {
    0% {
        transform: rotate(-45deg) scale(0.1);
        transform-origin: center right;
    }
    100% {
        transform: rotate(0deg) scale(1);
    }
}

@include keyframes(rotateSkewRight) {
    0% {
        transform: rotate(-45deg) scale(0.1);
        transform-origin: center left;
    }
    100% {
        transform: rotate(0deg) scale(1);
    }
}

@include keyframes(rotateSkewRightPos) {
    0% {
        transform: rotate(45deg) scale(0.1);
        transform-origin: center left;
    }
    100% {
        transform: rotate(0deg) scale(1);
    }
}

@include keyframes(rotateScaleRubber) {
    from {
        opacity: 0;
        transform: translate3d(0, -100%, 0) scale(0.1) rotate(30deg);
        transform-origin: center bottom;
    }
    50% {
        transform: translate3d(0, 50%, 0) rotate(-10deg);
    }
    70% {
        transform: rotate(3deg);
    }
    to {
        opacity: 1;
        transform: scale(1);
    }
}


/***** Founders */

.title-bounce {
    @include animation('fadeInScale 3s');
}

.title-bounce p {
    padding: 0 15px;
    display: contents;
}

.founders-lead,
.testimonies-sub {
    @include animation('fadeInScale 3.5s');
}

.animate-founder-card-slideDown {
    @include animation('slideDownCard 4s');
}

.animate-founder-card-slideUp {
    @include animation('slideUpCard 4s');
}


/***** Testimonies */

.rotate-skew {
    @include animation('rotateSkewLeft 2s')
}

.rotate-skew-left-outer {
    @include animation('rotateSkewLeftPos 2s');
}

.rotate-skew-right {
    @include animation('rotateSkewRight 2s');
}

.rotate-skew-right-outer {
    @include animation('rotateSkewRightPos 2s');
}

.rotate-scale-last {
    @include animation('rotateScaleRubber 3s');
}


/***** Footer */

.title-fade-in-down {
    @include animation('fadeInFromTop 2s');
}

.fade-in-from-bottom {
    @include animation('fadeInFromBottom 2s');
}

.newsletter-card {
    @include animation('fadeInFromRight 1s linear');
}

@include animate-intervals(1, 6, '.demo-list li', 'fadeInFromLeft 1.5s forwards', (1s / 8));
@include animate-intervals(1, 6, '.pages-list li', 'fadeInFromLeft 1.5s forwards', (1s / 6));
@include animate-intervals(1, 6, '.fade-in-right li', 'fadeInFromBottom 1.5s forwards', (1s / 10));
@include animate-intervals(1, 5, '.social-list  li', 'fadeInScale 2s forwards', (1s / 5));